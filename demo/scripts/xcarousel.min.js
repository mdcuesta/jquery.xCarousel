(function(a){function u(b,c){var e=[];var f=b.children();var g=500;for(i=f.length-1;i>=0;i--){itemToAnimate=f[i];if(i==0){a(itemToAnimate).delay(g).animate({top:"-="+j().height()+"px",opacity:0},d.reverse_fall_duration,function(){if(typeof c=="function")c()})}else{a(itemToAnimate).delay(g).animate({top:"-="+j().height()+"px",opacity:0},d.reverse_fall_duration)}g=g+100}}function t(b,c){var e=[];var f=b.children();var g=500;for(i=0;i<f.length;i++){itemToAnimate=f[i];if(i==f.length-1){a(itemToAnimate).delay(g).animate({top:"+="+j().height()+"px",opacity:1},d.fall_duration,function(){if(typeof c=="function")c()})}else{a(itemToAnimate).delay(g).animate({top:"+="+j().height()+"px",opacity:1},d.fall_duration)}g=g+100}}function s(a){a.css("width",j().width()+"px");a.css("left",(j().width()-a.outerWidth())/2+j().scrollLeft()+"px");c.push(a)}function r(b){c.push(b);b.css("width",j().width()+"px");b.css("left","+="+j().width()+"px");b.children().each(function(){a(this).children().each(function(){a(this).css("top","-="+j().height()+"px");a(this).css("opacity","0")})})}function q(a){if(c.length==0)s(a);else r(a)}function p(){f--;if(f<0)f=c.length-1}function o(){f++;if(f==c.length)f=0}function n(a){if(a>=c.length)a=a%c.length;return c[a]}function m(){return h().children().last()}function l(){return h().children().first()}function k(){return c[f]}function j(){return e.parent()}function h(){return e}var b={init:function(b){d=a.extend(d,b);e=a(this);a(this).children().each(function(b){q(a(this))})},scrollLeft:function(a){if(g==1)return;g=1;if(l().get(0)==k().get(0)){l().before(m());h().css("left","-="+j().width()+"px")}l().before(m());h().css("left","-="+j().width()+"px");u(k().children(),function(){h().animate({left:"+="+j().width()+"px"},d.scroll_duration,function(){p();t(k().children(),function(){g=0;if(typeof a=="function")a()})})})},scrollRight:function(a){if(g==1)return;g=1;if(m().get(0)==k().get(0)){m().after(l());h().css("left","+="+j().width()+"px")}u(k().children(),function(){h().animate({left:"-="+j().width()+"px"},d.scroll_duration,function(){o();t(k().children(),function(){m().after(l());h().css("left","+="+j().width()+"px");g=0;if(typeof a=="function")a()})})})},scrollToIndex:function(a,b){if(g==1)return;g=1;a=a%c.length;if(f<a){while(l().get(0)!=k().get(0)){m().after(l());h().css("left","+="+j().width()+"px")}u(k().children(),function(){gap=a-f;h().animate({left:"-="+j().width()*gap+"px"},d.scroll_duration,function(){f=a;t(k().children(),function(){g=0;if(typeof b=="function")b()})})})}else{while(m().get(0)!=k().get(0)){l().before(m());h().css("left","-="+j().width()+"px")}u(k().children(),function(){gap=f-a;h().animate({left:"+="+j().width()*gap+"px"},d.scroll_duration,function(){f=a;t(k().children(),function(){g=0;if(typeof b=="function")b()})})})}},getCurrentSlideIndex:function(){return f},getCarouselItemCount:function(){return c.length}};a.fn.xcarousel=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.xCarousel")}};var c=new Array;var d={scroll_duration:600,fall_duration:500,reverse_fall_duration:500,bounce_duration:300,bouce_times:300};var e=null;var f=0;var g=0})(jQuery)